(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[738],{82003:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/quests",function(){return s(41825)}])},9579:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var r=s(52322),a=s(69423);function l(e){let{className:t}=e;return(0,r.jsx)("div",{className:(0,a.cn)("bg-primary w-1 h-1 rounded-full animate-pulse",t),style:{boxShadow:"0 1px 8px #48db80"}})}},75930:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var r=s(52322),a=s(69423),l=s(31298);let n=e=>{let{days:t,hours:s,minutes:a,seconds:l}=e;return t>=1||s>24?(0,r.jsxs)("p",{children:[t,"d ",s,"h ",a,"m"]}):(0,r.jsxs)("p",{children:[s,"h ",a,"m ",l,"s"]})};function i(e){let{questEnd:t,className:s}=e;return(0,r.jsx)("div",{className:(0,a.cn)("truncate",s),children:(0,r.jsx)(l.ZP,{date:t,renderer:n})})}},77135:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var r=s(52322),a=s(69423),l=s(72579),n=s.n(l);s(2784);var i=s(8038);function c(e){let{as:t,variant:s="light",size:l="md",spacing:c="md",borderless:o=!1,uppercase:d=!1,className:u,children:m,...x}=e,h=n()(i.yi,c,i.yi.md),p=n()(i.Co,l,i.Co.md),g=(0,a.cn)("tracking-wider font-semibold rounded-lg",{"bg-pill-light-bg shadow-light-border text-pill-light":"light"===s,"bg-pill-dark-bg border border-primary-stroke text-pill-dark":"dark"===s,"bg-transparent shadow-bright-border text-white":"bright"===s,"bg-transparent text-pill-dark shadow-light-border":"transparent"===s,uppercase:d,"!shadow-none !p-0":o},p,h,u);return(0,r.jsx)(t||"div",{className:g,...x,children:m})}},12358:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var r=s(52322),a=s(77245),l=s(43259),n=s(77135);function i(e){let{onChange:t,placeholder:s="Search for an address",...i}=e;return(0,r.jsxs)(n.Z,{as:l.Z,spacing:"flush",className:"bg-card pl-3 py-0 gap-1 focus-within:shadow-white/30 h-9",align:"center",children:[(0,r.jsx)(a.Goc,{color:"white",size:20}),(0,r.jsx)("div",{className:"relative h-9 w-full",children:(0,r.jsx)("input",{type:"text",className:"absolute bg-transparent left-0 top-0 w-full h-full block text-white px-2 outline-none placeholder:text-primary-text font-medium text-sm rounded-lg",placeholder:s,onChange:e=>t(e.target.value),...i})})]})}},73366:function(e,t,s){"use strict";s.d(t,{Nq:function(){return d},pg:function(){return u}});var r=s(30082),a=s(69423),l=s(42180),n=s(56370),i=s(10711),c=s(7278);let o=e=>[e,"user"],d=(e,t)=>c.E.setQueryData(o(e),e=>e?{...e,...t}:e),u=e=>{let{isSignedIn:t}=(0,n.Pe)();return(0,l.a)({queryKey:o(e),queryFn:()=>r.ZP.getUser(e),enabled:t&&(0,a.At)(e),staleTime:(0,i.Z)(10)})}},41825:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return e9}});var r=s(52322),a=s(58420),l=s(5632),n=s(2784),i=s(93804),c=s(16506),o=s(75048),d=s(9424),u=s(56370),m=s(92905),x=s(1469),h=s(72779),p=s.n(h),g=s(70040),f=s(43259),j=s(65976),v=s(91842);function w(e){let{icon:t,title:s,description:a,buttonText:l,onClick:n,type:i}=e;return(0,x.g)({eventName:m.z.BannerDisplay,eventProperties:{bannerType:i}}),(0,r.jsx)(j.Z,{spacing:"flush",children:(0,r.jsxs)(f.Z,{direction:"row",className:"p-4 gap-3",children:[(0,r.jsx)("div",{className:"w-8 items-center justify-center p-2 inline-flex bg-icon-background rounded-md h-fit",children:(0,r.jsx)("i",{className:p()("text-transparent bg-clip-text bg-gradient-to-b from-icon-gradient-from to-icon-gradient-to fa-regular",t)})}),(0,r.jsxs)(f.Z,{direction:"column",className:"justify-start gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(v.Z,{variant:"body",className:"font-semibold text-primary-text",children:s}),(0,r.jsx)(v.Z,{variant:"label1",className:"text-secondary-text",children:a})]}),(0,r.jsx)(g.ZP,{color:"primary",variant:"gradient",className:"h-fit w-fit",onClick:n,trackClickType:m.H.BannerClick,trackEventProperties:{bannerType:i},children:l})]})]})})}var b=s(69423),y=s(752),N=s(34543),k=s(59659),C=Object.assign(function(e){let{className:t,children:s,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col gap-4",t),...a,children:s})},{Header:function(e){let{className:t,children:s,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col gap-1",t),...a,children:s})},Title:function(e){let{icon:t,title:s,className:a,...l}=e;return(0,r.jsxs)("div",{className:(0,i.cn)("flex items-center gap-2",a),...l,children:[(0,r.jsx)("div",{className:"w-[30px] h-[30px] flex items-center justify-center",children:t}),(0,r.jsx)("h2",{className:"text-2xl font-semibold text-foreground",children:s})]})},Description:function(e){let{className:t,children:s,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)("text-base text-foreground opacity-50",t),...a,children:s})}}),z=s(20814),Z=s(78298),A=s(10711),E=s(32087),S=s(24182);let q=(0,A.Z)(5),P=e=>{let{address:t,...s}=e;return["quests",{address:t,...s}]},T={active:["active","redeemable"],completed:["completed","claimable"],expired:["expired"]},M=e=>{let{address:t,pageSize:s=50,status:r,enabled:a=!1,ethValue:l,searchQuery:n,tags:i=[],excludeTags:c=[],actionFilters:o=[],sortBy:d}=e,u=(0,b.HH)(n),m=Array.isArray(r)&&r.length>0,x=(0,E.EQ)(u).with(!0,()=>({pageSize:s,ethValue:l,searchQuery:n,status:m?r:[],tags:i,excludeTags:[],actionFilters:o,sortBy:d})).otherwise(()=>({pageSize:s,ethValue:l,searchQuery:n,status:m?r:T.active,tags:i,excludeTags:c,actionFilters:o,sortBy:d}));return(0,z.N)({queryKey:P({...x,address:t}),initialPageParam:1,queryFn:e=>{let{pageParam:s}=e;return S.ZP.getQuests({address:t,pageNo:s,...x})},getNextPageParam:(e,t)=>{if(e.quests.length>=s)return t.length+1},enabled:a,refetchInterval:q,staleTime:q,placeholderData:Z.Wk})};var D=s(59094),L=s(68954),R=s(57209),O=s(95061),Q=s(25966),H=s(72313),W=s(95695),I=s(72486),V=s(829),B=s.n(V),F=s(77245),_=s(70563),U=s(94225),X=s(54619),K=s(65058),G=s(87809),J=s(30195);globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}},J.z.union([J.z.literal("active"),J.z.literal("redeemable"),J.z.literal("claimable"),J.z.literal("completed"),J.z.literal("expired"),J.z.literal("upcoming")]);let Y=J.z.union([J.z.literal("active"),J.z.literal("completed"),J.z.literal("expired")]),$=[X.Us.Bridge,X.Us.Swap,X.Us.Stake,X.Us.Mint,X.Us.Options,X.Us.Delegate,X.Us.Vote,X.Us.Follow],ee=globalThis.jotaiAtomCache.get("/vercel/path0/apps/gateway/components/pages/questsState.ts/questsSearchAtom",(0,G.rw)("")),et=(0,G.FL)(()=>localStorage),es=globalThis.jotaiAtomCache.get("/vercel/path0/apps/gateway/components/pages/questsState.ts/questsFiltersAtom",(0,G.O4)("RH-QuestFilters",[],et)),er=globalThis.jotaiAtomCache.get("/vercel/path0/apps/gateway/components/pages/questsState.ts/showLowRewardQuestsAtom",(0,K.cn)(!1)),ea=()=>{let e=(0,y.b9)(es);return(0,n.useCallback)(t=>{e(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},[e])},el=Object.keys(X.Us).filter(e=>isNaN(Number(e))&&$.includes(X.Us[e])),en=J.z.union([J.z.literal("Mint"),J.z.literal("Bridge"),J.z.literal("Stake"),J.z.literal("Swap"),J.z.literal("Deposit"),J.z.literal("Delegate"),J.z.literal("Options"),J.z.literal("Lend"),J.z.literal("Vote"),J.z.literal("Other"),J.z.literal("Follow")]),ei=globalThis.jotaiAtomCache.get("/vercel/path0/apps/gateway/components/pages/questsState.ts/questsActionFilterAtom",(0,K.cn)(["Mint","Bridge","Stake","Swap","Deposit","Delegate","Options","Lend","Vote","Other","Follow"])),ec=()=>{let e=(0,y.b9)(ei);return(0,n.useCallback)(t=>{e(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},[e])};var eo=s(89079),ed=s(12358);function eu(e){let{checked:t=!1}=e;return(0,r.jsxs)("div",{className:"flex items-center relative",tabIndex:-1,children:[(0,r.jsx)("input",{type:"checkbox",tabIndex:-1,className:"hidden",defaultChecked:t}),(0,r.jsx)("div",{className:p()("w-5 h-5 rounded-[4px] flex items-center justify-center border text-[#181052]",{"bg-white/5 border-white/10":!t,"bg-white border-white":t}),children:(0,r.jsx)(W.M,{initial:!1,children:t&&(0,r.jsx)(I.E.div,{initial:{scale:2,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:400,damping:35},children:(0,r.jsx)(F.hXj,{size:18})})})})]})}let em={active:"Active",expired:"Expired"};function ex(){let e=(0,H.UJ)(),t=(0,y.Dv)(es),s=(0,y.Dv)(ei),[a,l]=(0,y.KO)(er),i=ea(),c=ec(),o=(0,n.useCallback)(()=>l(t=>(e(m.z.ToggleHighValueRewardQuests,{eventProperties:{value:t?"on":"off"}}),!t)),[e,l]);return(0,r.jsxs)(eo.J2,{placement:"bottom-end",children:[(0,r.jsx)(eo.xo,{asChild:!0,children:(0,r.jsxs)(g.ZP,{variant:"outline",color:"tertiary",size:"sm",spacing:"sm",radius:"lg",children:[(0,r.jsx)("p",{className:"font-medium tracking-normal",children:"Filter"}),t.length>0&&(0,r.jsx)("span",{className:"md:hidden bg-white text-app-bg rounded-xl px-2 text-xs",children:t.length}),(0,r.jsx)("i",{className:"fa-regular fa-filter ml-1"})]})}),(0,r.jsx)(eo.yk,{children:(0,r.jsxs)(R.Z,{direction:"column",children:[Object.keys(em).map(e=>{let s=Y.parse(e);return"completed"===s?null:(0,r.jsx)(g.ZP,{variant:"transparent",color:"white",spacing:"sm",onClick:()=>i(s),tabIndex:0,children:(0,r.jsxs)(R.Z,{align:"center",justify:"start",className:"gap-2 w-full",children:[(0,r.jsx)(eu,{checked:t.includes(s)}),(0,r.jsx)("p",{className:"font-medium tracking-normal text-white",children:em[s]})]})},s)}),(0,r.jsx)("div",{className:"h-px w-full bg-white opacity-10 my-2"}),el.map(e=>{let t=en.parse(e);return(0,r.jsx)(g.ZP,{variant:"transparent",color:"white",spacing:"sm",onClick:()=>c(t),tabIndex:0,children:(0,r.jsxs)(R.Z,{align:"center",justify:"start",className:"gap-2 w-full",children:[(0,r.jsx)(eu,{checked:s.includes(t)}),(0,r.jsx)("p",{className:"font-medium tracking-normal text-white",children:t})]})},t)}),(0,r.jsx)("div",{className:"h-px w-full bg-white opacity-10 my-2"}),(0,r.jsx)(g.ZP,{variant:"transparent",color:"white",spacing:"sm",onClick:o,tabIndex:0,children:(0,r.jsxs)(R.Z,{align:"center",justify:"start",className:"gap-2 w-full",children:[(0,r.jsx)(eu,{checked:!a}),(0,r.jsx)("p",{className:"font-medium tracking-normal text-white",children:"High Value Rewards"})]})})]})})]})}function eh(e){let{filter:t}=e,s=ea();return(0,r.jsxs)(g.ZP,{variant:"outline",color:"tertiary",size:"sm",spacing:"sm",radius:"lg",onClick:()=>s(t),className:"bg-white/5 truncate",children:[(0,r.jsx)("p",{className:"font-medium tracking-normal text-white mr-1",children:em[t]}),(0,r.jsx)(_.Q7B,{color:"#fff",className:"opacity-50 group-hover:opacity-100",size:14})]})}function ep(){let[e,t]=(0,y.KO)(es);return(0,r.jsx)(R.Z,{align:"center",className:"gap-3 overflow-hidden min-w-0 hidden md:flex",children:e.length>=3?(0,r.jsxs)(g.ZP,{variant:"outline",color:"tertiary",size:"sm",spacing:"sm",radius:"lg",onClick:()=>t([]),className:"bg-white/5 truncate",children:["Clear ",e.length," filters"]}):B()(e).map(e=>"completed"===e?null:(0,r.jsx)(eh,{filter:e},e))})}function eg(){let[e,t]=(0,y.KO)(ee),s=(0,U.y1)(e=>{t(e)},250);return(0,r.jsx)("div",{className:"rounded-lg w-full md:w-[200px]",children:(0,r.jsx)(ed.Z,{onChange:s,autoFocus:!0,placeholder:"Search",defaultValue:e})})}function ef(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eg,{}),(0,r.jsxs)(R.Z,{align:"center",className:"gap-3",children:[(0,r.jsx)(ep,{}),(0,r.jsx)(ex,{})]})]})}var ej=s(57649),ev=s(51337),ew=s(96577),eb=s.n(ew),ey=s(8799),eN=s(76785),ek=s(21226);function eC(e){let{value:t,max:s}=e,r=Math.abs(s),a=(0,i.ih)(r,t);return(0,n.useMemo)(()=>({absoluteMax:r,rewardsRemaining:a}),[r,a])}function ez(e){let{value:t,max:s}=e,{absoluteMax:a,rewardsRemaining:l}=eC({value:t,max:s});return(0,r.jsxs)("div",{className:"flex gap-[0.5] text-secondary-text font-semibold text-xs truncate tabular-nums",children:[(0,r.jsx)(ek.Z,{value:String(l),className:"text-primary-text"}),(0,r.jsx)("span",{children:"/"}),(0,r.jsx)("span",{className:"truncate",children:a})]})}var eZ=s(56964),eA=s(10929);let eE=(0,eA.j)("relative w-full overflow-hidden rounded-full bg-progress-track",{variants:{size:{default:"h-4",sm:"h-1"}},defaultVariants:{size:"default"}}),eS=(0,eA.j)("h-full w-full flex-1 transition-all rounded-full",{variants:{variant:{default:"bg-progress",muted:"bg-progress-muted",warning:"bg-progress-warning",danger:"bg-progress-danger"}},defaultVariants:{variant:"default"}}),eq=n.forwardRef((e,t)=>{let{className:s,value:a,size:l,variant:n,...i}=e;return(0,r.jsx)(eZ.fC,{ref:t,className:(0,b.cn)(eE({size:l}),s),...i,children:null!=a&&a>0&&(0,r.jsx)(eZ.z$,{className:(0,b.cn)(eS({variant:n})),style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});function eP(e){let{value:t,variant:s}=e,a=(0,n.useMemo)(()=>(0,E.EQ)(t).with(E.P.number.gte(20),()=>"default").with(E.P.number.gte(10),()=>"warning").otherwise(()=>"danger"),[t]);return(0,r.jsx)(eq,{value:t,size:"sm",variant:s||a})}function eT(e){let{value:t,max:s,variant:a}=e,{absoluteMax:l,rewardsRemaining:n}=eC({value:t,max:s});return(0,r.jsxs)("div",{className:"flex flex-col gap-1 w-full text-primary-text font-semibold text-sm truncate tabular-nums",children:[(0,r.jsx)(ek.Z,{value:String(n)}),(0,r.jsx)("div",{className:"md:w-[60%] flex-1",children:(0,r.jsx)(eP,{value:n/l*100,variant:a})}),(0,r.jsx)("div",{className:"flex flex-1 items-center gap-1",children:(0,r.jsxs)("span",{className:"text-xs text-secondary-text",children:["of ",l]})})]})}eq.displayName=eZ.fC.displayName;var eM=s(75930),eD=s(77135);function eL(e){let{status:t,size:s="sm",spacing:a="sm",showIcon:l=!0}=e,n=t===d.SW.EXPIRED,i=p()("uppercase truncate font-semibold text-xs",{"text-app-red":n});return(0,r.jsxs)(eD.Z,{as:f.Z,align:"center",className:"gap-2 inline-flex max-w-full",size:s,spacing:a,borderless:!0,variant:"transparent",children:[l&&t===d.SW.COMPLETED&&(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("i",{className:"fa-solid fa-check fa-sm"})}),(0,r.jsx)("p",{className:i,children:t})]})}var eR=s(73069),eO=s(76626),eQ=s(9579);function eH(e){let{highlight:t=!1,children:s}=e;return(0,r.jsx)("p",{className:p()("font-semibold text-primary-text text-sm truncate w-full",{"text-app-completed":t}),children:s})}function eW(e){let{chainId:t,questImage:s}=e;return(0,r.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,r.jsx)("div",{className:"absolute right-0 bottom-0 z-10 scale-[0.5] md:scale-[.6666666667] origin-bottom-right",children:(0,r.jsx)(ev.Z,{id:Number(t)})}),(0,r.jsx)("div",{className:"w-6 h-6 md:w-10 md:h-10 rounded-full overflow-clip relative",children:(0,r.jsx)(eb(),{src:s,fill:!0,alt:"task_icon",className:"object-cover"})})]})}function eI(e){let{onClick:t,highlight:s=!1,children:a,className:l}=e,n=p()("@container hover:bg-white/5 active:bg-black/5",l);return(0,r.jsx)(j.Z,{spacing:"flush",className:n,radius:"sm",color:s?"secondary":"primary",children:(0,r.jsx)("button",{onClick:t,className:"grid grid-cols-1 md:grid-cols-[1fr_auto] grid-rows-1 items-center justify-between p-3 md:p-5 gap-5 w-full",children:a})})}let eV=e=>{let{children:t,align:s="left"}=e;return(0,r.jsx)("div",{className:p()("w-full text-left whitespace-nowrap text-ellipsis flex items-center",{"text-left":"left"===s,"text-right":"right"===s}),children:t})};function eB(e){var t,s,a;let{quest:l,reward:i,isOpen:c=!1,className:o,creatorEns:u,onClick:m}=e,{status:x,questEnd:h,receiptsMinted:g,iconOption:j}=l,{totalAllocated:v}=i,w=(0,b._o)({actionParams:l.actionParams,taskNetwork:null===(a=l.tasks)||void 0===a?void 0:null===(s=a[0])||void 0===s?void 0:null===(t=s.network)||void 0===t?void 0:t.name}),{amount:y,s3Link:N,tokenSymbol:k,decimals:C}=i,z=(0,n.useCallback)(()=>{"function"==typeof m&&m(l.id)},[m,l.id]),Z=[d.SW.ACTIVE,d.SW.CLAIMABLE,d.SW.REDEEMABLE].includes(x),A=[d.SW.CLAIMABLE,d.SW.REDEEMABLE].includes(x),E=x===d.SW.EXPIRED,S=(0,n.useMemo)(()=>(0,b.HH)(h)&&(l.status===d.SW.ACTIVE||l.status===d.SW.REDEEMABLE)?(0,r.jsx)(eM.Z,{questEnd:h,className:"text-sm"}):(0,r.jsx)(eL,{status:l.status,spacing:"xs",size:"sm"}),[l.status,h]),q=null==u?void 0:u.ens,P=(0,n.useMemo)(()=>(0,b.HH)(q)?(0,b.TL)(q):(0,b.a_)(l.creatorAddress),[q,l.creatorAddress]),T=(0,n.useMemo)(()=>(0,b.CG)(l.network,"address",l.creatorAddress),[l.creatorAddress,l.network]),M=(0,b.nW)(i.type);return(0,r.jsxs)(eI,{onClick:z,highlight:A,className:p()(o,{"opacity-50":E}),children:[(0,r.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,r.jsxs)(f.Z,{align:"center",className:"gap-3 md:gap-6 text-left w-full md:w-1/3",children:[Z?(0,r.jsx)(eQ.Z,{}):(0,r.jsx)("div",{className:"w-1 h-1 rounded-full"}),(0,r.jsxs)(f.Z,{align:"center",className:"gap-3 md:gap-4 w-full truncate",children:[(0,r.jsx)(D.Z,{fallbackRender:()=>null,children:(0,r.jsx)(eW,{chainId:w.chainId,questImage:j})}),(0,r.jsxs)(f.Z,{direction:"column",className:"w-full min-w-0",children:[(0,r.jsx)(eH,{highlight:A,children:l.name}),(0,r.jsx)(f.Z,{align:"center",justify:"between",className:"md:hidden",children:(0,r.jsxs)("div",{className:"flex items-center gap-3 w-full truncate",children:[(0,r.jsx)(eN.Z,{className:"hover:underline text-xs",href:T,children:P}),(0,r.jsx)(ez,{value:g,max:v})]})})]}),(0,r.jsx)("div",{className:"md:hidden",children:(0,r.jsx)(eR.Z,{isNft:M,tokenAmount:y,tokenSymbol:k,decimals:null!=C?C:18,network:i.network})})]})]}),(0,r.jsxs)("div",{className:"w-2/3 gap-3 hidden md:grid grid-cols-4",children:[(0,r.jsx)(eV,{children:(0,r.jsx)(eN.Z,{className:"hover:underline truncate",href:T,children:P})}),(0,r.jsx)(eV,{children:(0,r.jsx)(eR.Z,{isNft:M,tokenAmount:y,tokenSymbol:k,rewardIcon:N,decimals:null!=C?C:18,network:i.network})}),(0,r.jsx)(eV,{children:(0,r.jsx)(eT,{value:g,max:v,variant:E?"muted":void 0})}),(0,r.jsx)(eV,{align:Z?"left":"right",children:S})]})]}),(0,r.jsx)(I.E.div,{animate:{rotate:c?180:0},transition:eO.Cs,className:p()("hidden md:block",{"text-app-completed":A,"text-white/20":!A}),children:(0,r.jsx)(ey.fmn,{size:24})})]})}function eF(){return(0,r.jsxs)("div",{className:"w-full hidden md:flex items-center justify-between text-primary-text text-xs pr-11 font-semibold",children:[(0,r.jsx)("p",{className:"truncate",children:"Task Name"}),(0,r.jsxs)("div",{className:"w-2/3 gap-3 hidden md:grid grid-cols-4",children:[(0,r.jsx)("p",{className:"truncate",children:"Creator"}),(0,r.jsx)("p",{className:"truncate",children:"Reward"}),(0,r.jsx)("p",{className:"truncate",children:"Rewards Remaining"}),(0,r.jsx)("p",{className:"truncate",children:"Time Remaining"})]})]})}var e_=e=>{let{activeQuestId:t,quests:s,onRowClick:a}=e,l=(0,n.useMemo)(()=>s.map(e=>{let{quest:t}=e;return t.creatorAddress}).filter(i.At),[s]),{getDataForAddress:c}=(0,ej.Z)(l);return(0,r.jsxs)(f.Z,{direction:"column",className:"gap-3",children:[(0,r.jsx)(eF,{}),(0,r.jsx)(f.Z,{direction:"column",className:"overflow-x-auto",children:s.map((e,l)=>{let{quest:n,reward:i}=e,o=p()({"border-b-0":l!==s.length-1,"rounded-tl-xl rounded-tr-xl":0===l,"rounded-bl-xl rounded-br-xl border-b-1":l===s.length-1});return(0,r.jsx)(eB,{quest:n,reward:i,isOpen:t===n.id,onClick:a,className:o,creatorEns:c(n.creatorAddress)},n.id)})})]})},eU=s(25599),eX=s(63686),eK=s(94069);function eG(e){let{excludeTags:t}=e,{address:s,isMounted:a,isConnected:i}=(0,eX.Z)(),c=(0,l.useRouter)(),o=(0,eK.f)(c.query.quest),d=(0,y.Dv)(ee),u=(0,y.Dv)(es),m=(0,y.Dv)(ei),x=(0,y.Dv)(er),{data:h,isSuccess:p,isPending:g,error:f,hasNextPage:v,fetchNextPage:w,isFetchingNextPage:z}=M({address:s,enabled:a,status:u.flatMap(e=>T[e]),ethValue:x?"0":S.Wv,searchQuery:d,excludeTags:t,actionFilters:m}),Z=(0,n.useMemo)(()=>null==h||0===h.pages.length?[]:h.pages.flatMap(e=>e.quests),[h]),A=(0,n.useCallback)(e=>{e===o?c.push("/quests"):c.push("/quests/".concat(e))},[o,c]);if(p&&null==h||0===Z.length&&null!=f)return(0,r.jsx)(L.Z,{title:"Could not load quests.",error:f});let E=(0,b.HH)(d),q=u.length>0||E,P=0===Z.length&&q,H=0===Z.length&&!q;return(0,r.jsxs)(C,{children:[(0,r.jsxs)(C.Header,{children:[(0,r.jsx)(C.Title,{title:"All Quests",icon:(0,r.jsx)(Q.Z,{className:"bg-foreground"})}),(0,r.jsx)(C.Description,{children:(0,r.jsx)("p",{children:"All other High-Value quests that are available to you."})})]}),i&&(0,r.jsx)(R.Z,{className:"w-full gap-2",align:"center",justify:"between",children:(0,r.jsx)(ef,{})}),g&&(0,r.jsx)("div",{className:"flex flex-col gap-1",children:(0,r.jsx)(eU.Z,{count:5,height:82})}),!g&&(0,r.jsxs)(D.Z,{FallbackComponent:O.Z,id:"QuestsTableWrapper",children:[P&&(0,r.jsx)(j.Z,{className:"py-6 flex flex-col items-center",children:(0,r.jsxs)("div",{className:"flex gap-1 items-center justify-center",children:[(0,r.jsx)(N.TCC,{size:18,className:"text-foreground opacity-50"}),(0,r.jsx)("p",{className:"text-foreground opacity-50",children:"No quests match your currently active filters."})]})}),H&&(0,r.jsx)(j.Z,{className:"py-6 flex flex-col items-center",children:x?(0,r.jsxs)("div",{className:"flex gap-1 items-center justify-center",children:[(0,r.jsx)(N.TCC,{size:18,className:"text-foreground opacity-50"}),(0,r.jsx)("p",{className:"text-foreground opacity-50",children:"No active quests right now. Try checking back later."})]}):(0,r.jsxs)("div",{className:"flex flex-col gap-2 items-center",children:[(0,r.jsxs)("div",{className:"flex gap-1 items-center justify-center",children:[(0,r.jsx)(N.TCC,{size:18,className:"text-foreground opacity-50"}),(0,r.jsx)("p",{className:"text-foreground opacity-50",children:"You don't have any High-Value Quests currently. Check back later for more."})]}),(0,r.jsx)("div",{children:(0,r.jsx)(ex,{})}),(0,r.jsx)("p",{className:"text-foreground opacity-50",children:'To see more quests, open the filters and disable "High-Value"'})]})}),!H&&!P&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e_,{quests:Z,onRowClick:A,activeQuestId:o}),i&&v&&(0,r.jsx)(k.Z,{loading:z,onClick:()=>w(),variant:"outline",color:"tertiary",children:"Load More"})]})]})]})}var eJ=s(39097),eY=s.n(eJ);function e$(e){let{className:t,...s}=e;return(0,r.jsx)("svg",{className:t,viewBox:"0 0 26 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",...s,children:(0,r.jsx)("path",{d:"M14.25 1.5L1.75 16.5H13L11.75 26.5L24.25 11.5H13L14.25 1.5Z",stroke:"#80F485",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}let e0={[d.Mj.RECOMMENDED]:{title:"Recommended Quests",description:"The cream of the crop, selected for you daily.",icon:(0,r.jsx)(function(e){let{className:t,...s}=e;return(0,r.jsxs)("svg",{className:t,viewBox:"0 0 31 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",...s,children:[(0,r.jsx)("path",{d:"M5.31445 10.7749C5.132 9.95304 5.16002 9.09843 5.3959 8.2903C5.63178 7.48217 6.06788 6.74668 6.66379 6.15203C7.25969 5.55738 7.99609 5.12281 8.80471 4.88862C9.61333 4.65443 10.468 4.62821 11.2894 4.81238C11.7416 4.10525 12.3645 3.52333 13.1006 3.12023C13.8368 2.71714 14.6626 2.50586 15.5019 2.50586C16.3413 2.50586 17.1671 2.71714 17.9033 3.12023C18.6394 3.52333 19.2623 4.10525 19.7144 4.81238C20.5372 4.62741 21.3933 4.65351 22.2032 4.88827C23.0131 5.12303 23.7505 5.5588 24.3468 6.15507C24.943 6.75134 25.3788 7.48872 25.6136 8.29863C25.8483 9.10854 25.8744 9.96467 25.6894 10.7874C26.3966 11.2395 26.9785 11.8624 27.3816 12.5986C27.7847 13.3348 27.996 14.1606 27.996 14.9999C27.996 15.8392 27.7847 16.665 27.3816 17.4012C26.9785 18.1374 26.3966 18.7602 25.6894 19.2124C25.8736 20.0338 25.8474 20.8885 25.6132 21.6971C25.379 22.5057 24.9445 23.2421 24.3498 23.838C23.7551 24.4339 23.0197 24.8701 22.2115 25.1059C21.4034 25.3418 20.5488 25.3698 19.7269 25.1874C19.2754 25.8972 18.652 26.4816 17.9146 26.8865C17.1772 27.2914 16.3495 27.5037 15.5082 27.5037C14.6669 27.5037 13.8392 27.2914 13.1018 26.8865C12.3644 26.4816 11.741 25.8972 11.2894 25.1874C10.468 25.3715 9.61333 25.3453 8.80471 25.1111C7.99609 24.8769 7.25969 24.4424 6.66379 23.8477C6.06788 23.2531 5.63178 22.5176 5.3959 21.7095C5.16002 20.9013 5.132 20.0467 5.31445 19.2249C4.6019 18.7739 4.01497 18.1501 3.60826 17.4114C3.20155 16.6727 2.98828 15.8431 2.98828 14.9999C2.98828 14.1566 3.20155 13.3271 3.60826 12.5884C4.01497 11.8497 4.6019 11.2258 5.31445 10.7749Z",stroke:"current",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M11.75 15L14.25 17.5L19.25 12.5",stroke:"current",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},{className:"stroke-icon-gradient-from w-full h-full"})},[d.Mj.POWER]:{title:"Power Quests",description:"High-reward quests for our most dedicated users.",icon:(0,r.jsx)(e$,{className:"text-primary w-full h-full"})},[d.Mj.BOOST_PASS]:{title:"Boost Pass Quests",description:"Boost Pass Holders Only Quests",icon:(0,r.jsx)(e$,{className:"text-primary w-full h-full"})}};function e1(e){let{tag:t}=e,{title:s,description:a,icon:i}=e0[t],{address:c,isMounted:o}=(0,eX.Z)(),u=(0,l.useRouter)(),m=M({address:c,enabled:o,status:["active","completed","redeemable"],pageSize:20,tags:[t]}),x=(0,n.useCallback)(e=>{u.push("/quests/".concat(e))},[u]),h=(0,n.useMemo)(()=>(0,r.jsxs)("span",{className:"capitalize",children:[t," Quests"]}),[t]);return(0,r.jsxs)(C,{children:[(0,r.jsxs)(C.Header,{children:[(0,r.jsx)(C.Title,{title:s,icon:i}),(0,r.jsx)(C.Description,{children:(0,r.jsx)("p",{children:a})})]}),(0,E.EQ)(m).with({status:"pending"},()=>(0,r.jsx)("div",{className:"flex flex-col gap-1",children:(0,r.jsx)(eU.Z,{count:1,height:82})})).with({status:"success"},e=>{let{data:t}=e,s=t.pages.flatMap(e=>e.quests),a=s.every(e=>{let{quest:t}=e;return t.status===d.SW.COMPLETED}),l=a?[]:s.filter(e=>{let{quest:t}=e;return t.status!==d.SW.COMPLETED&&t.status!==d.SW.EXPIRED});return a||0!==l.length?a?(0,r.jsx)(j.Z,{className:"py-6",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-1 items-center justify-center text-center",children:[(0,r.jsx)(F.wRn,{size:24,className:"text-primary"}),(0,r.jsxs)("p",{className:"text-foreground opacity-50",children:["You've completed all available ",h,". Check back later for more."]})]})}):(0,r.jsx)(e_,{quests:l,onRowClick:x}):(0,r.jsxs)(j.Z,{className:"py-6 flex flex-col items-center",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-1 items-center justify-center text-center",children:[(0,r.jsx)(N.TCC,{size:18,className:"text-foreground opacity-50"}),(0,r.jsxs)("p",{className:"text-foreground opacity-50",children:["There aren't any ",h," currently."]})]}),(0,r.jsxs)(eY(),{href:"/settings",className:"inline-block text-primary underline",children:["Sign up to be notified of new ",h]})]})}).otherwise(()=>(0,r.jsx)(j.Z,{children:(0,r.jsx)("div",{className:"flex flex-col gap-1 items-center justify-center",children:(0,r.jsxs)("p",{className:"text-progress-danger",children:["We had some trouble fetching ",h," and have nothing to show here."]})})}))]})}var e2=s(73366),e5=s(60082),e3=s(27933);let e6=(e,t)=>({noWallet:{icon:"fa-wallet",title:"Please connect your wallet",description:"Connect your wallet to participate and see private quests you are eligible for.",buttonText:"Connect wallet",type:"connect wallet",onClick:()=>e()},noSignin:{icon:"fa-wallet",title:"Verify your wallet address",description:"To access all Rabbithole features, please sign a message to verify ownership.",buttonText:"Sign message",type:"verify wallet",onClick:()=>e()},noEmail:{icon:"fa-bell",title:"Add email for alerts",description:"Don't miss out on new opportunities. Add your email to get quest & reward alerts.",buttonText:"Get alerts",type:"add email",onClick:()=>t.push("/settings")},emailUnverified:{icon:"fa-check-circle",title:"Please verify your email",description:"Verify your email to get the latest quest & reward opportunities.",buttonText:"Verify email address",type:"verify email",onClick:()=>t.push("/settings")}}),e4=()=>{let e=(0,l.useRouter)(),{address:t,isMounted:s,isConnected:r,openSIWE:a}=(0,eX.Z)(),{isSignedIn:c}=(0,u.Pe)(),{data:o,isSuccess:d}=(0,e2.pg)(t);return(0,n.useMemo)(()=>{let t=e6(a,e);return!s||c&&!d||c&&(null==o?void 0:o.emailRegistered)===!0?null:r?r&&!c?t.noSignin:r&&!(0,i.HH)(null==o?void 0:o.email)?t.noEmail:c&&(null==o?void 0:o.emailRegistered)===!1?t.emailUnverified:null:t.noWallet},[r,s,c,d,a,e,null==o?void 0:o.email,null==o?void 0:o.emailRegistered])},e8=[d.Mj.RECOMMENDED];var e7=()=>{(0,o.P)(o.s.QuestsOverview);let{address:e}=(0,eX.Z)(),t=e4();return(0,r.jsx)(c.Z,{eventProperties:{pageName:o.s.QuestsOverview,walletAddress:e},children:(0,r.jsx)(e5.Z,{pageTitle:"Quests",header:(0,r.jsx)(e3.Z,{}),children:(0,r.jsx)(D.Z,{FallbackComponent:O.Z,id:"QuestsPageContent",children:(0,r.jsxs)("div",{className:"px-4 pt-4 pb-8 md:px-8 md:pt-8 flex flex-col gap-8",children:[null!=t&&(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)(w,{...t})}),e8.map(e=>(0,r.jsx)(e1,{tag:e},e)),(0,r.jsx)(eG,{excludeTags:[...e8,d.Mj.BOOST_PASS]})]})})})})};function e9(){let e=(0,a.oC)(ee),t=(0,l.useRouter)();return(0,n.useEffect)(()=>()=>{e()},[]),(0,n.useEffect)(()=>{var e;let s=null===(e=t.query)||void 0===e?void 0:e.quest;void 0!=s&&t.replace("/quests/".concat(s))},[t.query]),(0,r.jsx)(e7,{})}},24182:function(e,t,s){"use strict";s.d(t,{Wv:function(){return d}});var r=s(86148),a=s(56877),l=s(45711),n=s(9424),i=s(69423),c=s(71955),o=s(30195);let d="50000000000000",u=o.z.object({name:o.z.string(),chainId:o.z.string()}),m=o.z.object({name:o.z.string(),description:o.z.string(),link:o.z.string(),iconOption:o.z.string(),deprecated:o.z.boolean().nullish(),timestamp:o.z.coerce.date().nullish(),contractAddress:n.AC.nullable(),eventName:o.z.string(),status:o.z.string().nullish(),webhookUrl:o.z.string(),indexerStrategy:o.z.string(),title:o.z.string(),network:u}),x=o.z.object({id:o.z.string(),appLink:o.z.string(),iconOption:o.z.string(),imagePath:o.z.string(),name:o.z.string(),questEnd:o.z.union([o.z.date(),o.z.string()]),questStart:o.z.union([o.z.date(),o.z.string()]),description:o.z.string(),network:o.z.string(),receiptsMinted:o.z.number(),status:o.z.string(),createdAt:o.z.union([o.z.date(),o.z.string()]),contractAddress:n.AC.nullable(),creatorAddress:n.AC,tasks:o.z.array(m),actionParams:a.JE.optional(),tags:o.z.array(o.z.string()).optional()}),h=o.z.object({amount:o.z.string(),totalAllocated:o.z.number(),type:c.FP,tokenSymbol:o.z.string(),token:o.z.string(),network:i.Kf,s3Link:o.z.string(),ethValue:o.z.string().nullable(),tokenContractAddress:n.AC,decimals:o.z.number().nullish(),tokenId:o.z.string().nullish()}),p=o.z.object({quest:x,reward:h}),g=o.z.object({quests:o.z.array(p)}),f=c.Wl;class j{static async getQuests(e){let{address:t,pageNo:s,pageSize:r,status:a,ethValue:n,searchQuery:c,tags:o,excludeTags:u,actionFilters:m,sortBy:x}=e,h=Array.isArray(o)&&o.length>0?o.join(","):void 0,p=Array.isArray(u)&&u.length>0?u.join(","):void 0,f=Array.isArray(m)&&m.length>0?m.join(",").toLowerCase():void 0;return(0,i.At)(t)?(0,l.Z)({config:{method:"get",url:"quests?address=".concat(t),params:{pageNo:s,pageSize:r,status:null==a?void 0:a.join(","),ethValue:n,searchQuery:c,tags:h,exclusionTags:p,actionFilters:f,sortBy:x}},responseSchema:g,identifier:"QuestService.getQuests"}):(0,l.Z)({config:{method:"get",url:"quests/public",params:{pageSize:"recommended"===h?20:10,ethValue:d,tags:h,exclusionTags:p,actionFilters:f}},responseSchema:g,identifier:"QuestService.getPublicQuests"})}static async getQuestById(e){let{questId:t,address:s}=e;(0,i.HH)(s)&&(0,i.hu)((0,i.At)(s),r.q.INVALID_ADDRESS);let a=(0,i.At)(s)?"quests/".concat(t,"?address=").concat(s):"quests/".concat(t);return(0,l.Z)({config:{method:"get",url:a},responseSchema:f,identifier:"QuestService.getQuestById"})}}t.ZP=j},94069:function(e,t,s){"use strict";s.d(t,{f:function(){return r}});let r=e=>null==e?"":Array.isArray(e)?e[0]:e}},function(e){e.O(0,[461,917,981,135,577,929,967,563,663,672,695,933,114,888,774,179],function(){return e(e.s=82003)}),_N_E=e.O()}]);